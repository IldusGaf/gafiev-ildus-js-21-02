<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ДЗ №6</title>
</head>
<body>
    <script>
	// 1 задание
	/*
	function getFib(n) {
		return n <= 1 ? n : getFib(n - 1) + getFib(n - 2);
	}
	console.log( getFib(5) );
	console.log( getFib(8) );
	*/
	// 2 задание
	/*
	const getFib = (() =>  {
		const cash = {};
		return (a) => {
			if(cash[a]) {
				console.log('Значение взято из кэша');
				return cash[a]
			} else {
				console.log('Рассчитываю значение')
				const n = (a <= 1) ? a : getFib(a - 1) + getFib(a - 2);
				cash[a] = n;
				return n;

			}
		}

	})();
	console.log( getFib(5) );
	console.log( getFib(5) );
	*/
	//3 задание
	const getObj = (() =>  {
		return (arr) => {
			const obj = {};
			for (let [key, value] of arr) {
				if (Array.isArray(value)) {
					obj[key]=getObj(value);//рекурсия
					//obj[key] = Object.fromEntries([value]); // без рекурсии
				} else {
					obj[key]=value;
				}
			}
				return obj;
		}
	})();

	const arr = [ ['0', 'a'], ['1', 'b'], ['2', 'c'] , ['2', [
	                                                            ['c','f']
	                                                         ]
	                                                   ]
	            ];
	const arr2 = [
            ['name', 'Anna'],
            ['age', '22'],
            ['pets',
                [
                    ['dog', 'Faust'],
                    ['cat', [
						['dog', 'Faust'],
						['cat', 'Balthazar']
							]
					]
                ]
            ]
        ]
	console.log(getObj(arr));
	console.log(getObj(arr2));
	</script>
</body>
</html>
